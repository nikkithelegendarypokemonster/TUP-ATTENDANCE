(this.webpackJsonptupattendance=this.webpackJsonptupattendance||[]).push([[0],{120:function(e,t,a){"use strict";(function(e){var n=a(64),c=a(8),r=a(31),s=a(10),o=a(0),i=a.n(o),l=a(40),d=a(268),u=a(189),j=a(269),m=a(76),b=a(192),h=a(22),p=a(271),O=a(149),g=a(270),x=a(262),f=a(150),v=a(190),y=a(191),w=a(184),N=a.n(w),k=a(182),C=a.n(k),I=a(183),S=a.n(I),T=a(32),D=a(181),A=a(121),M=a(1);function P(e){var t=e.children,a=Object(j.a)({disableHysteresis:!0,threshold:0});return i.a.cloneElement(t,{elevation:a?4:0})}var H=Object(b.a)((function(e){var t,a,n;return{toolbarMargin:Object(s.a)(Object(s.a)({},e.mixins.toolbar),{},(t={marginBottom:"2em"},Object(r.a)(t,e.breakpoints.down("md"),{marginBottom:"2em  "}),Object(r.a)(t,e.breakpoints.down("xs"),{marginBottom:"2em"}),t)),logo:(a={height:"3em"},Object(r.a)(a,e.breakpoints.down("md"),{height:"3em"}),Object(r.a)(a,e.breakpoints.down("xs"),{height:"3em"}),a),logoContainer:{padding:0,"&:hover":{backgroundColor:"transparent"}},headerTitle:Object(s.a)(Object(s.a)({marginLeft:"10px"},e.typography.title),{},(n={},Object(r.a)(n,e.breakpoints.down("md"),Object(s.a)(Object(s.a)({},e.typography.title),{},{fontSize:".9em"})),Object(r.a)(n,e.breakpoints.down("xs"),Object(s.a)(Object(s.a)({},e.typography.title),{},{fontSize:".8em"})),n)),logOut:{marginLeft:"auto",color:"white","&:hover":{backgroundColor:"transparent"}},badge:{marginLeft:"auto"},textDashboard:{display:"inline-block",verticalAlign:"middle"},drawerIconContainer:{marginLeft:"auto","&:hover":{backgroundColor:"transparent"}},drawerIcon:{height:"45px",width:"45px"},drawer:{backgroundColor:e.palette.common.red},drawerItem:Object(s.a)(Object(s.a)({},e.typography.title),{},{color:"white",opacity:"0.7"}),drawerItemSelected:{opacity:"1"},appbar:{zIndex:e.zIndex.modal+1}}}));t.a=function(){var t=Object(o.useContext)(T.a).user,a=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),r=H(),s=Object(h.a)(),i=Object(g.a)(s.breakpoints.down("md")),j=Object(D.a)().logoutUser,b=Object(o.useState)(0),w=Object(c.a)(b,2),k=w[0],I=w[1],E=Object(o.useState)(!1),F=Object(c.a)(E,2),R=F[0],L=F[1],B=Object(o.useMemo)((function(){return[{name:"Dashboard",link:"/dashboard",activeIndex:0},{name:"Logout",link:"/",activeIndex:1}]}),[]);Object(o.useEffect)((function(){Object(n.a)(B).forEach((function(e){switch(window.location.pathname){case"".concat(e.link):k!==e.activeIndex&&I(e.activeIndex)}}))}),[B,k]);var z=Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:r.headerTitle,children:"Technological University of the Philippines"}),t?Object(M.jsx)(m.a,{disableRipple:!0,className:r.logOut,onClick:j,children:"Log out"}):Object(M.jsx)(m.a,{disableRipple:!0,className:r.logOut,component:l.b,to:"/",onClick:function(){return I(1)},children:"Log in"})]}),U=Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(p.a,{disableBackdropTransition:!a,disableDiscovery:a,open:R,onClose:function(){return L(!1)},onOpen:function(){return L(!0)},classes:{paper:r.drawer},children:[Object(M.jsx)("div",{className:r.toolbarMargin}),Object(M.jsxs)(x.a,{disablePadding:!0,children:[Object(M.jsxs)(f.a,{onClick:function(){L(!1),I(0)},selected:0===k,divider:!0,button:!0,component:l.b,to:"/",children:[Object(M.jsx)(v.a,{children:Object(M.jsx)(C.a,{})}),Object(M.jsx)(y.a,{className:0===k?"".concat(r.drawerItem," ").concat(r.drawerItemSelected):r.drawerItem,disableTypography:!0,children:"Dashboard"})]}),Object(M.jsxs)(f.a,{onClick:function(){L(!1),I(1),j()},selected:1===k,divider:!0,button:!0,component:l.b,to:"/",children:[Object(M.jsx)(v.a,{children:Object(M.jsx)(S.a,{})}),Object(M.jsx)(y.a,{className:1===k?"".concat(r.drawerItem," ").concat(r.drawerItemSelected):r.drawerItem,disableTypography:!0,children:"Logout"})]})]})]}),Object(M.jsx)(O.a,{className:r.drawerIconContainer,onClick:function(){return L(!R)},disableRipple:!0,children:Object(M.jsx)(N.a,{className:r.drawerIcon})})]});return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(P,{children:Object(M.jsx)(d.a,{position:"fixed",className:r.appbar,children:Object(M.jsxs)(u.a,{children:[Object(M.jsx)(m.a,{component:l.b,to:"/dashboard",disableRipple:!0,onClick:function(){return I(0)},className:r.logoContainer,children:Object(M.jsx)("img",{alt:"school-logo",className:r.logo,src:A.a})}),i?U:z]})})}),Object(M.jsx)("div",{className:r.toolbarMargin})]})}}).call(this,a(135))},121:function(e,t,a){"use strict";t.a=a.p+"static/media/tup.839ccebd.svg"},170:function(e,t){},181:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(9),c=a.n(n),r=a(14),s=a(27),o=a(18),i=a.n(o);function l(){var e=Object(s.g)();return{logoutUser:function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i()({method:"GET",url:"".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/users/logout")}).then((function(t){clearInterval(window.clock),window.localStorage.setItem("timer",0),window.location.reload(),e.push("/")}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}()}}},244:function(e,t){},245:function(e,t){},256:function(e,t,a){"use strict";a.r(t);var n=a(17),c=a.n(n),r=a(0),s=a.n(r),o=a(40),i=a(27),l=a(9),d=a.n(l),u=a(14),j=a(8),m=a(10),b=a(310),h=a(36),p=a(128),O=a(194),g=a(76),x=a(339),f=a(52),v=a(18),y=a.n(v),w=a(32);var N=a.p+"static/media/tulay-logo.70824af4.png",k=a.p+"static/media/Hawk.e646021a.png",C=a(1),I=Object(f.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(N,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},hawk:{height:"23em",position:"absolute",bottom:"0",right:"0"},paper:{margin:e.spacing(6,4),display:"flex",flexDirection:"column",alignItems:"center",flexGrow:10},form:{width:"100%",marginTop:e.spacing(7)},submit:{margin:e.spacing(5,0,2)},title:{fontFamily:"Roboto",fontStyle:"normal",fontWeight:"500",color:e.palette.common.red},header:{backgroundColor:e.palette.common.red,padding:"1em"},headerText:Object(m.a)(Object(m.a)({},e.typography.title),{},{color:"white"})}})),S=function(){var e=Object(r.useContext)(w.a).user,t=I(),a=Object(r.useState)({open:!1,color:""}),n=Object(j.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(""),l=Object(j.a)(o,2),m=l[0],f=l[1],v=Object(r.useState)(""),N=Object(j.a)(v,2),S=N[0],T=N[1],D=function(){var e=Object(i.g)(),t=Object(r.useContext)(w.a).setUser,a=Object(r.useState)(null),n=Object(j.a)(a,2),c=n[0],s=n[1],o=function(){var a=Object(u.a)(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.get("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/users/isLoggedIn")).then((function(a){t(a.data.currentUser),e.push("/dashboard")})).catch((function(e){s(e.response.data)}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return{loginUser:function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",y()({method:"POST",url:"".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/users/login"),data:{employeeId:t}}).then(function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:e.prev=4,e.t0=e.catch(0),s(e.t0.response.data);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),error:c}}().loginUser,A=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,D(S);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s({open:!0,color:"#A52439"}),f(e.t0.response.data.message.toUpperCase());case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return e?Object(C.jsx)(i.a,{to:"/dashboard"}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(b.a,{container:!0,component:"main",className:t.root,children:[Object(C.jsx)("img",{src:k,alt:"tup-trademark",className:t.hawk}),Object(C.jsx)(b.a,{item:!0,xs:!1,lg:8,className:t.image}),Object(C.jsxs)(b.a,{container:!0,item:!0,direction:"column",xs:12,lg:4,children:[Object(C.jsx)(b.a,{container:!0,alignItems:"stretch",justify:"center",className:t.header,children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(h.a,{className:t.headerText,align:"center",children:"Technological University of the Philippines"})})}),Object(C.jsx)(b.a,{item:!0,className:t.paper,children:Object(C.jsxs)("div",{component:p.a,className:t.paper,children:[Object(C.jsx)(h.a,{className:t.title,component:"h1",variant:"h5",children:"Online Attendance System"}),Object(C.jsxs)("form",{onSubmit:A,className:t.form,noValidate:!0,children:[Object(C.jsx)(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Enter ID ",type:"employeeId",id:"employeeId",value:S,onChange:function(e){return T(e.target.value)},autoComplete:"employee-id"}),Object(C.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"LOG IN"})]})]})})]})]}),Object(C.jsx)(x.a,{open:c.open,ContentProps:{style:{backgroundColor:c.color}},anchorOrigin:{vertical:"top",horizontal:"center"},message:m,autoHideDuration:4e3,onClose:function(){return s(!1)}})]})},T=a(316),D=a(320),A=a(318),M=a(317),P=a(319),H=a(341),E=a(186),F=a(177),R=a.n(F);function L(e){var t=new Date(e).getHours(),a=new Date(e).getMinutes();return parseFloat(t+"."+a)}function B(e,t,a,n){var c,r;return a>0&&0===n&&e<t?(r=Math.abs(a-60)>10?Math.abs(a-60):"0"+Math.abs(a-60),c=Math.abs(t-1-e)):(c=Math.abs(e-t),r=Math.abs(a-n)>10?Math.abs(a-n):"0"+Math.abs(a-n)),parseFloat(c+"."+r)}var z=function(e){var t=(new Date).getDay()-1;return 0!==Object.keys(e).length?e.schedule[t]:null},U=function(e){var t=(new Date).getDay()-1;return 0!==Object.keys(e).length?e.overload[t]:null};function W(e,t,a){var n=U(e);if(void 0!==n){for(var c=n,r=[],s=Object.keys(c),o=0;o<s.length;o++){var i,l;new Date(t).getHours()<=new Date(null===(i=c[o])||void 0===i?void 0:i.start).getHours()&&new Date(a).getHours()>=new Date(null===(l=c[o])||void 0===l?void 0:l.start).getHours()&&r.push(c[o])}if(r.length>0){r.sort((function(e,t){return new Date(e.start).getHours()-new Date(t.start).getHours()}));var d=B(t.getHours(),a.getHours(),t.getMinutes(),a.getMinutes())-function(e){var t;if(1===e.length)t=0;else for(var a=0;a<e.length-1;a++)t=B(new Date(e[a].end).getHours(),new Date(e[a+1].start).getHours(),new Date(e[a].end).getMinutes(),new Date(e[a+1].start).getMinutes());return void 0===t?0:t}(r);return L(t)<L(new Date(r[0].start))&&(d-=B(t.getHours(),new Date(r[0].start).getHours(),t.getMinutes(),new Date(r[0].start).getMinutes())),L(a)>L(new Date(r[r.length-1].end))&&(d-=B(a.getHours(),new Date(r[r.length-1].end).getHours(),a.getMinutes(),new Date(r[r.length-1].end).getMinutes())),d%Math.floor(d)>.6&&(d=Math.round(d)-d%Math.floor(d)),d=Math.round(100*d)/100}return 0}return 0}function _(e){var t=new Date(null===e||void 0===e?void 0:e.start),a=new Date(null===e||void 0===e?void 0:e.end);return B(t.getHours(),a.getHours(),t.getMinutes(),a.getMinutes())}function q(e,t,a){var n=z(e);if(void 0!==n||U(e))if(t=new Date(window.localStorage.getItem("Time In")),a=new Date,!1===e.isPartTime||!0===e.isAdmin)var c=function(e,t,a,n){var c,r,s;return e=new Date(e),t=new Date(t),a=new Date(a),n=new Date(n),c=L(a)>L(e)&&L(a)<=L(t)?B(e.getHours(),a.getHours(),e.getMinutes(),a.getMinutes()):0,r=L(n)>=L(e)&&L(n)<L(t)?B(n.getHours(),t.getHours(),n.getMinutes(),t.getMinutes()):0,(s=L(a)<L(e)&&L(n)<=L(e)||L(a)>=L(t)&&L(n)>L(t)?0:L(a)>=L(e)&&L(a)<=L(t)&&L(n)<=L(t)&&L(n)>=L(e)?B(a.getHours(),n.getHours(),a.getMinutes(),n.getMinutes()):B(e.getHours(),t.getHours(),e.getMinutes(),t.getMinutes())-c-r)%Math.floor(s)>.6&&(s=Math.round(s)-s%Math.floor(s)),Math.round(100*s)/100}(new Date(n.start),new Date(n.end),t,a);else c=0;else c=0;if(!1===e.isAdmin||!0===e.isAdmin&&!1===e.isPartTime)var r=W(e,t,a);else r=0;if(void 0!==n)var s=_(n);else s=0;return{regular:c,overload:r,fte_est:s}}function G(e,t,a){return V.apply(this,arguments)}function V(){return(V=Object(u.a)(d.a.mark((function e(t,a,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=q(t,a,n),e.prev=1,r={date:Object(E.a)(new Date,"MM/dd/yy"),employee:t,status:"Valid",timeIn:new Date(a).toISOString(),timeOut:new Date(n).toISOString(),fullTimeEquivalent:c.fte_est,regularHours:c.regular,overloadHours:c.overload,overTime:0},e.next=5,y.a.post("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs"),r);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Y(){return(Y=Object(u.a)(d.a.mark((function e(t,a,n){var c,r,s,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=z(t),r=_(c),s=new Date(window.localStorage.getItem("Time In")),o=new Date,e.prev=4,i={date:Object(E.a)(new Date,"MM/dd/yy"),employee:t,status:"Suspension",timeIn:new Date(s).toISOString(),timeOut:new Date(o).toISOString(),fullTimeEquivalent:r,regularHours:r,overloadHours:W(t,s,o),overTime:0},clearInterval(window.clock),a({open:!0,color:"#A52439"}),n("Class suspended!"),e.next=11,y.a.post("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs"),i);case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t0=e.catch(4),a({open:!0,color:"#A52439"}),n("Something went wrong! Please try again."),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function J(){return(J=Object(u.a)(d.a.mark((function e(t,a,n){var c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=z(t),r=_(c),e.prev=2,s={date:Object(E.a)(new Date,"MM/dd/yy"),employee:t,status:"Holiday",fullTimeEquivalent:r,timeIn:new Date,timeOut:new Date,regularHours:r,overloadHours:0,overTime:0},clearInterval(window.clock),a({open:!0,color:"#A52439"}),n("It's Holiday! :)"),e.next=9,y.a.post("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs"),s);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(2),a({open:!0,color:"#A52439"}),n("Something went wrong! Please try again."),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function $(){return($=Object(u.a)(d.a.mark((function e(t,a,n,c){var r,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z(a),s=_(r),e.prev=2,o={date:Object(E.a)(new Date,"MM/dd/yy"),employee:a,status:"Absent",fullTimeEquivalent:s,regularHours:0,overloadHours:0,timeIn:0,timeOut:0,overTime:0,remark:t},n({open:!0,color:"#A52439"}),c("Your request was been successfully sent!"),e.next=8,y.a.post("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs"),o);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(2),n({open:!0,color:"#A52439"}),c("Something went wrong! Please try again."),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var K=a(31),Q=a(145),X=a.n(Q),Z=Object(f.a)((function(e){return{label:{color:e.palette.common.red}}}));function ee(){var e=Z(),t=Object(r.useState)(),a=Object(j.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)({open:!1,color:""}),o=Object(j.a)(s,2),i=o[0],l=o[1],b=Object(r.useState)(""),h=Object(j.a)(b,2),p=h[0],O=h[1];Object(r.useEffect)((function(){n&&f(n)}),[n]);var f=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y()({method:"POST",url:"".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/users/"),data:t});case 3:l({open:!0,color:"#A52439"}),O("User data uploaded successfully!"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),l({open:!0,color:"#A52439"}),O("Something went wrong! Please try again.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(e){var t=e.target.result,a=X.a.read(t,{type:"binary"}),n=a.SheetNames[0],r=a.Sheets[n],s=X.a.utils.sheet_to_json(r,{header:1}),o=s[0];s.splice(0,1),function(e,t){var a=[];t.forEach((function(e){a.push(e)})),a=(a=(a=(a=(a=a.map((function(t,a){return Object(K.a)({},a,t.map((function(t,a){return Object(K.a)({},e[a],t)})))}))).map((function(e,t){return Object(m.a)({},e[t])}))).map((function(e){return Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)({},e[1]),e[2]),e[3]),e[4]),e[5]),e[6]),e[7]),e[8]),e[9]),e[10]),e[11])}))).map((function(e){var t=JSON.parse(e.overload),a=JSON.parse(e.schedule);return Object(m.a)(Object(m.a)({},e),{},{overload:t,schedule:a})}))).map((function(e){return e.overload.forEach((function(e){e.forEach((function(e){var t,a;e.start=new Date(null===(t=e.start)||void 0===t?void 0:t.$date),e.end=new Date(null===(a=e.end)||void 0===a?void 0:a.$date),delete e._id}))})),e.schedule.forEach((function(e){var t,a;e.start=new Date(null===(t=e.start)||void 0===t?void 0:t.$date),e.end=new Date(null===(a=e.end)||void 0===a?void 0:a.$date),delete e._id})),e.isPartTime="true"===e.isPartTime,e.isAdmin="true"===e.isAdmin,Object(m.a)({},e)})),c(a)}(o,s)},t?!function(e){var t=e.name.split("."),a=t[t.length-1];return["xlsx","xls","csv"].includes(a)}(t)?i("Invalid file format!"):a.readAsBinaryString(t):c([])};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(g.a,{classes:{label:e.label},component:"label",variant:"contained",style:{margin:".5em"},children:["Upload",Object(C.jsx)("input",{hidden:!0,type:"file",onChange:function(e){v(e)}})]}),Object(C.jsx)(x.a,{open:i.open,ContentProps:{style:{backgroundColor:i.color}},anchorOrigin:{vertical:"top",horizontal:"center"},message:p,autoHideDuration:4e3,onClose:function(){return l(!1)}})]})}var te=Object(f.a)((function(e){return{timer:{color:e.palette.common.red,fontFamily:"Roboto",fontSize:"1.5em",fontWeight:"900"},gridItem:{margin:".5em"}}}));var ae=function(e){var t=te(),a=Object(r.useState)(0),n=Object(j.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)({open:!1,color:""}),i=Object(j.a)(o,2),l=i[0],m=i[1],p=Object(r.useState)(""),O=Object(j.a)(p,2),f=O[0],v=O[1],y=("0"+Math.floor(c/3600)).slice(-2),w=("0"+Math.floor(c%3600/60)).slice(-2),N=("0"+Math.floor(c%3600%60)).slice(-2);function k(){s((function(e){return e+1}))}function I(){return(I=Object(u.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=new Date,window.localStorage.setItem("Time Out",n),t.next=6,G(e.user,window.localStorage.getItem("Time In"),window.localStorage.getItem("Time Out"));case 6:c=t.sent,clearInterval(window.clock),s(0),e.onAdd(c),m({open:!0,color:"#A52439"}),v("Time out successfully!"),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(1),m({open:!0,color:"#A52439"}),v("Something went wrong! Please try again."),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,14]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=new Date;"0"===window.localStorage.getItem("timer")&&window.localStorage.setItem("Time In",e);var t=Number(window.localStorage.getItem("timer")||0);s((function(e){return e+t})),window.clock=setInterval(k,1e3)}),[]),Object(r.useEffect)((function(){window.localStorage.setItem("timer",c)}),[c]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(b.a,{container:!0,justify:"center",children:[Object(C.jsx)(b.a,{item:!0,className:t.gridItem,children:Object(C.jsx)(h.a,{className:t.timer,children:"".concat(y,":").concat(w,":").concat(N)})}),Object(C.jsx)(b.a,{item:!0,className:t.gridItem,children:Object(C.jsxs)(g.a,{disabled:e.user.schedule.length>0&&!z(e.user).hasOwnProperty("start"),onClick:function(e){return I.apply(this,arguments)},variant:"contained",color:"primary",children:[Object(C.jsx)(R.a,{style:{marginRight:".2em"}}),"TIME OUT"]})}),e.user.isAdmin?Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(ee,{})}):null]}),Object(C.jsx)(x.a,{open:l.open,ContentProps:{style:{backgroundColor:l.color}},anchorOrigin:{vertical:"bottom",horizontal:"center"},message:f,autoHideDuration:4e3,onClose:function(){return m(!1)}})]})},ne=Object(f.a)((function(e){return{cardContainer:{width:"100%"},gridItem:{margin:".5em"},cardName:Object(m.a)({color:e.palette.common.red},e.typography.cardName),cardTitle:Object(m.a)(Object(m.a)({},e.typography.cardTitle),{},{color:e.palette.common.red,display:"inline-block"}),cardContent:Object(m.a)(Object(m.a)({},e.typography.cardTitle),{},{color:e.palette.common.darkGray,display:"inline-block",marginLeft:".5em"}),timer:{color:e.palette.common.red,fontFamily:"Roboto",fontSize:"1.5em",fontWeight:"900"},blue:{color:e.palette.getContrastText("#BBDEFB"),backgroundColor:"#BBDEFB"}}})),ce=function(e){var t=e.user,a=e.onAddLog,n=ne(),c=t.isPartTime?"Part-Time":"Regular",r="No Schedule";return t.schedule.length>0&&(r=z(t)&&z(t).hasOwnProperty("start")?"".concat(Object(E.a)(new Date(z(t).start),"hh:mma")," - ").concat(Object(E.a)(new Date(z(t).end),"hh:mma")):"No Schedule"),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(T.a,{children:[Object(C.jsx)(b.a,{container:!0,justify:"center",children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(M.a,{avatar:Object(C.jsx)(H.a,{className:n.blue,children:function(){var e=t.firstName.slice(0,1),a=t.lastName.slice(0,1);return"".concat(a).concat(e)}()}),classes:{title:n.cardName},title:"".concat(t.lastName.toUpperCase(),", ").concat(t.firstName.toUpperCase())})})}),Object(C.jsx)(A.a,{children:Object(C.jsxs)(b.a,{container:!0,justify:"space-around",children:[Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Type:"}),Object(C.jsx)(h.a,{className:n.cardContent,children:c})]}),Object(C.jsxs)(b.a,{item:!0,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Campus:"}),Object(C.jsx)(h.a,{className:n.cardContent,children:t.campus})]})]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"College:"}),Object(C.jsx)(h.a,{className:n.cardContent,children:t.college})]}),Object(C.jsxs)(b.a,{item:!0,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Department:"}),Object(C.jsx)(h.a,{className:n.cardContent,children:t.department})]})]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(b.a,{container:!0,direction:"column",children:Object(C.jsxs)(b.a,{item:!0,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Schedule:"}),Object(C.jsx)(h.a,{className:n.cardContent,children:r})]})})})]})}),Object(C.jsx)(P.a,{}),Object(C.jsx)(D.a,{children:Object(C.jsx)(ae,{user:t,onAdd:a})})]})})},re=a(335),se=a(263),oe=a(321),ie=a(265),le=a(322),de=a(266),ue=a(178),je=a.n(ue),me=Object(f.a)((function(e){return{cardName:Object(m.a)({color:e.palette.common.red},e.typography.cardName),gridItem:{margin:".5em"},button:{paddingLeft:"6em",paddingRight:"6em",paddingTop:"1em",paddingBottom:"1em",borderRadius:"1.5em",fontSize:"0.860rem"}}})),be=function(e){var t=e.user,a=e.onAddSuspension,n=e.onAddHoliday,c=e.onAddAbsent,s=me(),o=Object(r.useState)(""),i=Object(j.a)(o,2),l=i[0],d=i[1],u=Object(r.useState)(!1),m=Object(j.a)(u,2),h=m[0],p=m[1],f=Object(r.useState)({open:!1,color:""}),v=Object(j.a)(f,2),y=v[0],w=v[1],N=Object(r.useState)(""),k=Object(j.a)(N,2),I=k[0],S=k[1],A=function(){p(!1)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(T.a,{children:[Object(C.jsx)(b.a,{container:!0,justify:"center",children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(M.a,{avatar:Object(C.jsx)(re.a,{display:"flex",justifyContent:"center",alignItems:"center",style:{width:"2.5rem",height:"2.5rem"},borderRadius:"50%",bgcolor:"#BBDEFB",children:Object(C.jsx)(je.a,{style:{color:"#2196F3"}})}),classes:{title:s.cardName},styles:s.cardName,title:"REQUEST"})})}),Object(C.jsx)(b.a,{container:!0,justify:"center",style:{padding:"1em"},children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(g.a,{disabled:t.schedule.length>0&&!z(t).hasOwnProperty("start"),classes:{root:s.button},variant:"contained",disableFocusRipple:!0,disableRipple:!0,onClick:function(){p(!0)},children:"Write your remarks here..."})})}),Object(C.jsx)(P.a,{}),Object(C.jsx)(D.a,{children:Object(C.jsxs)(b.a,{container:!0,justify:"center",children:[Object(C.jsx)(b.a,{item:!0,className:s.gridItem,children:Object(C.jsx)(g.a,{disabled:t.schedule.length>0&&!z(t).hasOwnProperty("start"),variant:"contained",color:"primary",onClick:function(){return a(function(e,t,a){return Y.apply(this,arguments)}(t,w,S))},children:"SUSPENSION"})}),Object(C.jsx)(b.a,{item:!0,className:s.gridItem,children:Object(C.jsx)(g.a,{disabled:t.schedule.length>0&&!z(t).hasOwnProperty("start"),variant:"contained",color:"primary",onClick:function(){return n(function(e,t,a){return J.apply(this,arguments)}(t,w,S))},children:"HOLIDAY"})})]})})]}),Object(C.jsxs)(se.a,{open:h,onClose:A,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(oe.a,{id:"form-dialog-title",className:s.cardName,children:"Request"}),Object(C.jsxs)(ie.a,{children:[Object(C.jsx)(le.a,{children:"Write your remarks here. We will send updates immediately."}),Object(C.jsx)(O.a,{rows:5,multiline:!0,autoFocus:!0,margin:"dense",id:"message",label:"Enter your request...",type:"message",value:l,onChange:function(e){return d(e.target.value)},fullWidth:!0})]}),Object(C.jsxs)(de.a,{children:[Object(C.jsx)(g.a,{onClick:A,color:"primary",children:"Cancel"}),Object(C.jsx)(g.a,{onClick:function(){c(function(e,t,a,n){return $.apply(this,arguments)}(l,t,w,S)),d(""),A()},color:"primary",children:"Send"})]})]}),Object(C.jsx)(x.a,{open:y.open,ContentProps:{style:{backgroundColor:y.color}},anchorOrigin:{vertical:"bottom",horizontal:"center"},message:I,autoHideDuration:4e3,onClose:function(){return w(!1)}})]})},he=a(123),pe=a(268),Oe=a(337),ge=a(332),xe=a(64),fe=a(74),ve=a(28),ye=a(323),we=a(324),Ne=a(267),ke=a(117),Ce=a.n(ke),Ie=Object(f.a)((function(e){return{cardName:Object(m.a)({color:e.palette.common.red},e.typography.cardName),cardTitle:Object(m.a)(Object(m.a)({},e.typography.cardTitle),{},{color:e.palette.common.red,display:"inline-block"}),cardContent:Object(m.a)(Object(m.a)({},e.typography.cardTitle),{},{color:e.palette.common.darkGray,display:"inline-block",marginLeft:".5em"}),gridItem:{margin:".5em",minWidth:"200px"},logColor:{"&:nth-of-type(odd)":{backgroundColor:e.palette.common.fadedGray}}}})),Se=function(e){var t=e.log,a=Ie(),n=Object(r.useState)(!1),c=Object(j.a)(n,2),s=c[0],o=c[1],i=Object(r.useState)(""),l=Object(j.a)(i,2),m=l[0],p=l[1],f=Object(r.useState)({open:!1,color:""}),v=Object(j.a)(f,2),w=v[0],N=v[1],k=Object(r.useState)(""),I=Object(j.a)(k,2),S=I[0],T=I[1];function D(){return(D=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs/").concat(t._id),{status:"Overtime"});case 3:N({open:!0,color:"#A52439"}),T("You asked for an overtime :)"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),N({open:!0,color:"#A52439"}),T("Something went wrong! Please try again."),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function A(){return(A=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs/").concat(t._id),{status:"Issue",remark:m});case 3:N({open:!0,color:"#A52439"}),T("Your issue was sent!"),p(""),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),N({open:!0,color:"#A52439"}),T("Something went wrong! Please try again."),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(C.jsxs)("div",{className:a.logColor,children:[Object(C.jsxs)(b.a,{className:a.gridItem,container:!0,justify:"space-around",children:[Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Date: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:Object(E.a)(new Date(t.date),"MM/dd/yy")})]}),Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Status: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.status})]}),Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Regular: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.regularHours?t.regularHours+" hrs":"0 hrs"})]})]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Time In: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:Object(E.a)(new Date(t.timeIn),"hh:mma")})]}),Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Time Out: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:Object(E.a)(new Date(t.timeOut),"hh:mma")})]}),Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"FTE: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.fullTimeEquivalent?t.fullTimeEquivalent+" hrs":"0 hrs"})]})]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Overload: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.overloadHours?t.overloadHours+" hrs":"0 hrs"})]}),Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Overtime: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.overTime+" hrs"})]}),t.remark?Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Remark: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.remark})]}):null]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[t.feedback?Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Feedback:"}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.feedback})]}):null,Object(C.jsx)(b.a,{item:!0,className:a.gridItem,children:Object(C.jsx)(O.a,{label:"Write your issue",placeholder:"Remarks",size:"small",InputProps:{endAdornment:Object(C.jsx)(Ne.a,{position:"end",style:{cursor:"pointer "},onClick:function(){return o(!0)},children:Object(C.jsx)(Ce.a,{color:"primary",style:{fontSize:30}})})}})}),Object(C.jsx)(b.a,{item:!0,className:a.gridItem,children:t.employee.isAdmin?Object(C.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(){return D.apply(this,arguments)},children:"ASK OVERTIME"}):null})]})})]}),Object(C.jsx)(P.a,{}),Object(C.jsxs)(se.a,{open:s,onClose:function(){return o(!1)},"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(oe.a,{id:"form-dialog-title",className:a.cardName,children:"Issue"}),Object(C.jsxs)(ie.a,{children:[Object(C.jsx)(le.a,{children:"Write your issue here. We will send updates immediately."}),Object(C.jsx)(O.a,{rows:5,multiline:!0,autoFocus:!0,margin:"dense",id:"message",label:"Enter your issue...",type:"message",value:m,onChange:function(e){return p(e.target.value)},fullWidth:!0})]}),Object(C.jsxs)(de.a,{children:[Object(C.jsx)(g.a,{onClick:function(){return o(!1)},color:"primary",children:"Cancel"}),Object(C.jsx)(g.a,{onClick:function(){!function(){A.apply(this,arguments)}(),o(!1)},color:"primary",children:"Send"})]})]}),Object(C.jsx)(x.a,{open:w.open,ContentProps:{style:{backgroundColor:w.color}},anchorOrigin:{vertical:"bottom",horizontal:"center"},message:S,autoHideDuration:4e3,onClose:function(){return N(!1)}})]})},Te=function(e){var t=e.results,a=e.onSaveResults,n=Object(r.useState)(1),c=Object(j.a)(n,2),s=c[0],o=c[1];Object(r.useEffect)((function(){a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;o(e);var a=4*(e-1),n=4*e;return t.slice(a,n)}(s))}),[a,t,s,4]);var i=Math.ceil(t.length/4),l=Object(C.jsx)(g.a,{style:{marginLeft:".5em"},variant:"outlined",color:"primary",onClick:function(){o((function(e){return e+1})),a(t)},children:"Next"}),d=Object(C.jsx)(g.a,{variant:"outlined",color:"primary",onClick:function(){o((function(e){return e-1})),a(t)},children:"Back"});return 1===s&&i>1?l:s===i&&i>1?d:s<i?Object(C.jsxs)(C.Fragment,{children:[d,l]}):Object(C.jsx)("p",{})},De=Object(f.a)((function(e){return{gridItem:{margin:".5em"}}})),Ae=function(e){var t,a=De(),n=Object(r.useContext)(w.a).user,c=Object(r.useState)(new Date("2021-01-01")),s=Object(j.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(new Date),m=Object(j.a)(l,2),p=m[0],O=m[1],g=Object(r.useState)(!1),x=Object(j.a)(g,2),f=x[0],v=x[1],N=Object(r.useState)(""),k=Object(j.a)(N,2),I=k[0],S=k[1],T=Object(r.useState)(null),D=Object(j.a)(T,2),A=D[0],M=D[1],H=Object(r.useState)([]),E=Object(j.a)(H,2),F=E[0],R=E[1],L=Object(r.useCallback)(Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),S(null),e.next=5,y()({method:"GET",url:"".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs?sort=-updatedAt&employee=").concat(n._id,"&date[gte]=").concat(new Date(o).toLocaleString().split(",")[0].replaceAll("/","-"),"&date[lte]=").concat(new Date(p).toLocaleString().split(",")[0].replaceAll("/","-"))});case 5:t=e.sent,M(t.data.data.logs),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S(e.t0);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),[o,p,n._id]);return Object(r.useEffect)((function(){e.createdLog&&R((function(t){var a=Object(xe.a)(t);return a.unshift(e.createdLog.data.data.log),a})),L()}),[L,e.createdLog]),A&&(t=Object(C.jsx)(ve.a,{utils:fe.a,children:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(b.a,{container:!0,justify:"center",style:{marginTop:"1em",marginBottom:"1em"},children:[Object(C.jsx)(b.a,{item:!0,className:a.gridItem,children:Object(C.jsx)(ye.a,{format:"MM/dd/yyyy",value:o,onChange:function(e){i(e)}})}),Object(C.jsx)(b.a,{item:!0,className:a.gridItem,children:Object(C.jsx)(h.a,{component:"span",variant:"h6",children:"--"})}),Object(C.jsx)(b.a,{item:!0,className:a.gridItem,children:Object(C.jsx)(ye.a,{format:"MM/dd/yyyy",value:p,onChange:function(e){O(e)}})})]}),Object(C.jsx)(P.a,{}),F.length>0?F.map((function(e){return Object(C.jsx)(Se,{log:e},e._id)})):null,Object(C.jsx)(b.a,{container:!0,justify:"center",children:Object(C.jsx)(b.a,{item:!0,style:{marginTop:"1em"},children:Object(C.jsx)(Te,{results:A,onSaveResults:R})})})]})})),I&&(t=Object(C.jsx)("p",{children:I})),f&&(t=Object(C.jsx)(b.a,{container:!0,justify:"center",children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(we.a,{className:a.circularPosition,size:"10rem",color:"primary"})})})),Object(C.jsx)(C.Fragment,{children:t})},Me=a(331),Pe=a(315),He=a(313),Ee=a(336),Fe=Object(f.a)((function(e){return{gridItem:{margin:"2em"},employeeName:Object(m.a)(Object(m.a)({},e.typography.userCard),{},{color:e.palette.common.gray,borderBottom:"5px solid ".concat(e.palette.common.red),textDecorationColor:e.palette.common.red}),logColor:{"&:nth-of-type(odd)":{backgroundColor:e.palette.common.fadedGray}}}})),Re=function(e){var t=e.user,a=e.onSaveUserData,n=Fe();return Object(C.jsxs)("div",{className:n.logColor,children:[Object(C.jsx)(b.a,{container:!0,onClick:function(){a(t)},children:Object(C.jsx)(b.a,{item:!0,className:n.gridItem,children:Object(C.jsx)(h.a,{className:n.employeeName,children:"".concat(t.lastName,", ").concat(t.firstName)})})}),Object(C.jsx)(P.a,{})]})},Le=a(146),Be=a.n(Le),ze=(a(4),a(19)),Ue=a(329),We=a(330),_e=a(327),qe=a(328),Ge=a(325),Ve=a(344),Ye=a(326),Je=a(342),$e=(a(189),a(149),a(343),a(119)),Ke=a.n($e);a(180);function Qe(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function Xe(e,t){return"desc"===e?function(e,a){return Qe(e,a,t)}:function(e,a){return-Qe(e,a,t)}}function Ze(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var et=[{id:"date",label:"DATE"},{id:"status",label:"STATUS"},{id:"timein",label:"TIME IN"},{id:"timeout",label:"TIME OUT"},{id:"regular",label:"REGULAR"},{id:"fte",label:"FTE"},{id:"overload",label:"OVERLOAD"},{id:"overtime",label:"OVERTIME"}];function tt(e){var t=e.classes,a=e.order,n=e.orderBy,c=e.onRequestSort;return Object(C.jsx)(Ge.a,{children:Object(C.jsx)(Ye.a,{children:et.map((function(e){return Object(C.jsx)(_e.a,{align:"center",sortDirection:n===e.id&&a,children:Object(C.jsxs)(Je.a,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?a:"asc",onClick:(r=e.id,function(e){c(e,r)}),children:[e.label,n===e.id?Object(C.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var r}))})})}Object(f.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(ze.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));var at=Object(f.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function nt(e){var t=at(),a=s.a.useState("desc"),n=Object(j.a)(a,2),c=n[0],r=n[1],o=s.a.useState("date"),i=Object(j.a)(o,2),l=i[0],d=i[1],u=s.a.useState([]),m=Object(j.a)(u,2),b=m[0],h=m[1],O=s.a.useState(0),g=Object(j.a)(O,2),x=g[0],f=g[1],v=s.a.useState(5),y=Object(j.a)(v,2),w=y[0],N=y[1];return Object(C.jsx)("div",{className:t.root,children:Object(C.jsxs)(p.a,{className:t.paper,elevation:0,children:[Object(C.jsx)(qe.a,{children:Object(C.jsxs)(Ue.a,{className:t.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(C.jsx)(tt,{classes:t,numSelected:b.length,order:c,orderBy:l,onSelectAllClick:function(t){if(t.target.checked){var a=e.rows.map((function(e){return e.name}));h(a)}else h([])},onRequestSort:function(e,t){r(l===t&&"asc"===c?"desc":"asc"),d(t)},rowCount:e.rows.length}),Object(C.jsx)(We.a,{children:Ze(e.rows,Xe(c,l)).slice(x*w,x*w+w).map((function(e,t){var a,n=(a=e.date,-1!==b.indexOf(a)),c="enhanced-table-checkbox-".concat(t);return Object(C.jsx)(s.a.Fragment,{children:Object(C.jsxs)(Ye.a,{hover:!0,onClick:function(t){return function(e,t){var a=b.indexOf(t),n=[];-1===a?n=n.concat(b,t):0===a?n=n.concat(b.slice(1)):a===b.length-1?n=n.concat(b.slice(0,-1)):a>0&&(n=n.concat(b.slice(0,a),b.slice(a+1))),h(n)}(0,e.date)},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(C.jsx)(_e.a,{align:"center",component:"th",id:c,scope:"row",padding:"none",children:e.date}),Object(C.jsx)(_e.a,{align:"center",children:e.status}),Object(C.jsx)(_e.a,{align:"center",children:e.timeIn}),Object(C.jsx)(_e.a,{align:"center",children:e.timeOut}),Object(C.jsx)(_e.a,{align:"center",children:e.regularHours}),Object(C.jsx)(_e.a,{align:"center",children:e.fullTimeEquivalent}),Object(C.jsx)(_e.a,{align:"center",children:e.overloadHours}),Object(C.jsx)(_e.a,{align:"center",children:e.overTime})]},e._id)},e._id)}))})]})}),Object(C.jsx)(Ve.a,{rowsPerPageOptions:[5,10,25],component:"div",count:e.rows.length,rowsPerPage:w,page:x,onChangePage:function(e,t){f(t)},onChangeRowsPerPage:function(e){N(parseInt(e.target.value,10)),f(0)}})]})})}var ct=function(e){var t=e.logs,a=Object(r.useState)(t.map((function(e){return t=Object(E.a)(new Date(e.date),"MM/dd/yy"),a=e.status,n=Object(E.a)(new Date(e.timeIn),"HH:mm:ss"),c=Object(E.a)(new Date(e.timeOut),"HH:mm:ss"),r=e.regularHours,s=e.fullTimeEquivalent,o=e.overloadHours,i=e.overTime,l=e._id,{date:t,status:a,timeIn:n,timeOut:c,regularHours:r,fullTimeEquivalent:s,overloadHours:o,overTime:i,_id:l};var t,a,n,c,r,s,o,i,l}))),n=Object(j.a)(a,2),c=n[0],s=n[1];return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(nt,{rows:c,setRows:s})})},rt=a(246),st=a(18);function ot(e,t){return it.apply(this,arguments)}function it(){return(it=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s,o,i,l,u,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>0)){e.next=28;break}return r={},s=0,o=0,u=(n=a)[0].employee._id,l=new Date(t).toLocaleString().split(",")[0].replaceAll("/","-"),i="".concat(n[0].employee.lastName,", ").concat(n[0].employee.firstName),e.prev=7,e.next=10,st.get("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs/absent/").concat(u,"/").concat(l));case 10:for(c=e.sent,console.log(c.data.length),o=c.data.length,console.log(new Date(l).toLocaleString("default",{month:"long"})),j=0;j<n.length;j++)s+=n[j].overloadHours;r.ID=n[0].employee.employeeId,r.Name=i,r.Period=new Date(l).toLocaleString("default",{month:"long"})+"/"+new Date(l).getFullYear(),r.monthOverload=Math.round(s),r.daysAbsentInPreviousMonth=o||0,rt.json2csv(r,(function(e,t){if(e)throw e;var a=document.createElement("a");a.href="data:text/csv;charset=utf-8,"+encodeURI(t),a.target="_blank",a.download="".concat(i," - Regular Attendance.csv"),a.click(),console.log(t)})),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(7),console.log(e.t0);case 26:e.next=29;break;case 28:return e.abrupt("return","Records between the date are empty.");case 29:case"end":return e.stop()}}),e,null,[[7,23]])})))).apply(this,arguments)}function lt(e,t){if(!(t.length>0))return"Records between the date are empty.";var a,n=t,c={},r=0,s=new Date(e).toLocaleString().split(",")[0].replaceAll("/","-");a="".concat(n[0].employee.lastName,", ").concat(n[0].employee.firstName);for(var o=0;o<n.length;o++)r+=n[o].overloadHours;c.ID=n[0].employee.employeeId,c.Name=a,c.Period=new Date(s).toLocaleString("default",{month:"long"})+"/"+new Date(s).getFullYear(),c.monthOverload=Math.round(r),console.log(c),rt.json2csv(c,(function(e,t){if(e)throw e;var n=document.createElement("a");n.href="data:text/csv;charset=utf-8,"+encodeURI(t),n.target="_blank",n.download="".concat(a," - Overload Attendance.csv"),n.click(),console.log(t)}))}var dt=Object(f.a)((function(e){return{gridItem:{margin:".5em"}}})),ut=function(e){var t,a=e.user,n=dt(),c=Object(r.useState)({open:!1,color:""}),s=Object(j.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(""),m=Object(j.a)(l,2),p=m[0],O=m[1],f=Object(r.useState)(new Date("2021-01-01")),v=Object(j.a)(f,2),w=v[0],N=v[1],k=Object(r.useState)(new Date),I=Object(j.a)(k,2),S=I[0],T=I[1],D=Object(r.useState)(!1),A=Object(j.a)(D,2),M=A[0],H=A[1],E=Object(r.useState)(""),F=Object(j.a)(E,2),R=F[0],L=F[1],B=Object(r.useState)(null),z=Object(j.a)(B,2),U=z[0],W=z[1],_=Object(r.useCallback)(Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H(!0),L(null),e.next=5,y()({method:"GET",url:"".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs?sort=-updatedAt&employee=").concat(a._id,"&date[gte]=").concat(new Date(w).toLocaleString().split(",")[0].replaceAll("/","-"),"&date[lte]=").concat(new Date(S).toLocaleString().split(",")[0].replaceAll("/","-"))});case 5:t=e.sent,W(t.data.data.logs),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),L(e.t0.message);case 12:H(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),[w,S,a._id]);return Object(r.useEffect)((function(){_()}),[_]),U&&(t=Object(C.jsxs)(ve.a,{utils:fe.a,children:[Object(C.jsxs)(b.a,{container:!0,alignItems:"center",justify:"space-around",children:[Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(Re,{user:a})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,children:[Object(C.jsx)(b.a,{item:!0,className:n.gridItem,children:Object(C.jsx)(ye.a,{format:"MM/dd/yyyy",value:w,onChange:function(e){N(e)}})}),Object(C.jsx)(b.a,{item:!0,className:n.gridItem,children:Object(C.jsx)(h.a,{component:"span",variant:"h6",children:"--"})}),Object(C.jsx)(b.a,{item:!0,className:n.gridItem,children:Object(C.jsx)(ye.a,{format:"MM/dd/yyyy",value:S,onChange:function(e){T(e)}})})]})}),Object(C.jsxs)(b.a,{item:!0,children:[Object(C.jsxs)(g.a,{onClick:Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot(w,U);case 2:(t=e.sent)&&(i({open:!0,color:"#A52439"}),O(t));case 4:case"end":return e.stop()}}),e)}))),color:"primary",variant:"contained",style:{marginRight:".5em"},children:["Regular Hours",Object(C.jsx)(Be.a,{style:{marginLeft:".2em"}})]}),Object(C.jsxs)(g.a,{onClick:Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt(w,U);case 2:(t=e.sent)&&(i({open:!0,color:"#A52439"}),O(t));case 4:case"end":return e.stop()}}),e)}))),color:"primary",variant:"contained",children:["Overload Hours",Object(C.jsx)(Be.a,{style:{marginLeft:".2em"}})]})]})]}),Object(C.jsx)(P.a,{}),U?Object(C.jsx)(ct,{logs:U}):null,Object(C.jsx)(x.a,{open:o.open,ContentProps:{style:{backgroundColor:o.color}},anchorOrigin:{vertical:"bottom",horizontal:"center"},message:p,autoHideDuration:4e3,onClose:function(){return i(!1)}})]})),R&&(t=Object(C.jsx)("p",{children:R})),M&&(t=Object(C.jsx)(b.a,{container:!0,justify:"center",children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(we.a,{className:n.circularPosition,size:"10rem",color:"primary"})})})),Object(C.jsx)(C.Fragment,{children:t})},jt=Object(f.a)((function(e){return{formControl:{margin:e.spacing(1,4),minWidth:120},selectEmpty:{marginTop:e.spacing(1)},selectHelperText:Object(m.a)(Object(m.a)({},e.typography.helperText),{},{color:e.palette.primary.main})}})),mt=function(){var e,t=jt(),a=Object(r.useState)(!1),n=Object(j.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(null),i=Object(j.a)(o,2),l=i[0],m=i[1],h=Object(r.useState)(null),p=Object(j.a)(h,2),O=p[0],g=p[1],x=Object(r.useState)(""),f=Object(j.a)(x,2),v=f[0],w=f[1],N=Object(r.useState)(""),k=Object(j.a)(N,2),I=k[0],S=k[1],T=Object(r.useState)(""),D=Object(j.a)(T,2),A=D[0],M=D[1],H=Object(r.useState)(""),E=Object(j.a)(H,2),F=E[0],R=E[1],L=Object(r.useState)([]),B=Object(j.a)(L,2),z=B[0],U=B[1],W=Object(r.useState)([]),_=Object(j.a)(W,2),q=_[0],G=_[1],V=Object(r.useState)([]),Y=Object(j.a)(V,2),J=Y[0],$=Y[1],K=Object(r.useState)([]),Q=Object(j.a)(K,2),X=Q[0],Z=Q[1],ee=function(e){s((function(e){return!e})),g(e)};O&&(e=Object(C.jsx)(ut,{user:O}));var te,ae=Object(r.useCallback)(function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/users/?isAdmin=").concat("Admin"===v,"&isPartTime=").concat("Part-Time"===v,"&department=").concat(I,"&college=").concat(A,"&campus=").concat(F,"&fields=employeeId,firstName,lastName&sort=lastName"));case 3:a=e.sent,t&&m(a.data.data.users),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[v,F,A,I]);return Object(r.useEffect)((function(){var e=!0,t=[],a=[],n=[],c=[],r=[];function s(){return(s=Object(u.a)(d.a.mark((function s(){var o,i;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,y.a.get("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/users/?fields=department,college,campus,isAdmin,isPartTime"));case 3:o=s.sent,i=o.data.data.users,e&&(i.forEach((function(e){e.isAdmin&&!e.isPartTime?c.push("Admin"):e.isAdmin||e.isPartTime?c.push("Part-Time"):c.push("Regular"),t.push(e.department),n.push(e.campus),a.push(e.college)})),r=new Set(c),U(Object(xe.a)(r)),r=new Set(t),Z(Object(xe.a)(r)),r=new Set(n),$(Object(xe.a)(r)),r=new Set(a),G(Object(xe.a)(r))),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))).apply(this,arguments)}return function(){s.apply(this,arguments)}(),ae(e),function(){e=!1}}),[ae]),l&&(te=l.length>0?l.map((function(e){return Object(C.jsx)(Re,{onSaveUserData:ee,user:e},e._id)})):null),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(b.a,{container:!0,justify:"center",style:{marginTop:"1em",marginBottom:"1em"},children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,children:[Object(C.jsx)(b.a,{item:!0,style:{minWidth:"200px  "},children:Object(C.jsxs)(He.a,{className:t.formControl,children:[Object(C.jsx)(Ee.a,{displayEmpty:!0,labelId:"type",id:"type",value:v,renderValue:v.length>0?void 0:function(){return"Type"},onChange:function(e){w(e.target.value)},children:z.map((function(e){return Object(C.jsx)(Me.a,{value:e,children:e},e)}))}),Object(C.jsx)(Pe.a,{classes:{root:t.selectHelperText},children:"TYPE"})]})}),Object(C.jsx)(b.a,{item:!0,style:{minWidth:"200px  "},children:Object(C.jsxs)(He.a,{className:t.formControl,children:[Object(C.jsx)(Ee.a,{displayEmpty:!0,labelId:"department",id:"department",value:I,onChange:function(e){S(e.target.value)},renderValue:I.length>0?void 0:function(){return"Department"},children:X.map((function(e){return Object(C.jsx)(Me.a,{value:e,children:e},e)}))}),Object(C.jsx)(Pe.a,{classes:{root:t.selectHelperText},children:"DEPARTMENT"})]})}),Object(C.jsx)(b.a,{item:!0,style:{minWidth:"200px  "},children:Object(C.jsxs)(He.a,{className:t.formControl,children:[Object(C.jsx)(Ee.a,{displayEmpty:!0,labelId:"college",id:"college",value:A,renderValue:A.length>0?void 0:function(){return"College"},onChange:function(e){return M(e.target.value)},children:q.map((function(e){return Object(C.jsx)(Me.a,{value:e,children:e},e)}))}),Object(C.jsx)(Pe.a,{classes:{root:t.selectHelperText},children:"BUILDING"})]})}),Object(C.jsx)(b.a,{item:!0,style:{minWidth:"200px"},children:Object(C.jsxs)(He.a,{className:t.formControl,children:[Object(C.jsx)(Ee.a,{displayEmpty:!0,labelId:"branch",id:"branch",value:F,renderValue:F.length>0?void 0:function(){return"Campus"},onChange:function(e){return R(e.target.value)},children:J.map((function(e){return Object(C.jsx)(Me.a,{value:e,children:e},e)}))}),Object(C.jsx)(Pe.a,{classes:{root:t.selectHelperText},children:"BRANCH"})]})})]})})}),Object(C.jsx)(P.a,{}),!c&&te,c&&e]})},bt=Object(f.a)((function(e){return{cardName:Object(m.a)({color:e.palette.common.red},e.typography.cardName),cardTitle:Object(m.a)(Object(m.a)({},e.typography.cardTitle),{},{color:e.palette.common.red,display:"inline-block"}),cardContent:Object(m.a)(Object(m.a)({},e.typography.cardTitle),{},{color:e.palette.common.darkGray,display:"inline-block",marginLeft:".5em"}),gridItem:{margin:".5em",minWidth:"200px"},logColor:{"&:nth-of-type(odd)":{backgroundColor:e.palette.common.fadedGray}}}})),ht=function(e){var t=e.log,a=bt();return Object(C.jsxs)("div",{className:a.logColor,children:[Object(C.jsxs)(b.a,{className:a.gridItem,container:!0,justify:"space-around",children:[Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Date: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:Object(E.a)(new Date(t.date),"MM/dd/yy")})]}),Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Status: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.status})]}),Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Regular: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.regularHours?t.regularHours+" hrs":"0 hrs"})]})]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Time In: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:Object(E.a)(new Date(t.timeIn),"hh:mma")})]}),Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Time Out: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:Object(E.a)(new Date(t.timeOut),"hh:mma")})]}),Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"FTE: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.fullTimeEquivalent?t.fullTimeEquivalent+" hrs":"0 hrs"})]})]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Overload: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.overloadHours?t.overloadHours+" hrs":"0 hrs"})]}),Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Overtime: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.overTime+" hrs"})]}),t.remark?Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Remark: "}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.remark})]}):null]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[t.feedback?Object(C.jsxs)(b.a,{item:!0,className:a.gridItem,children:[Object(C.jsx)(h.a,{className:a.cardTitle,children:"Feedback:"}),Object(C.jsx)(h.a,{className:a.cardContent,children:t.feedback})]}):null,Object(C.jsx)(b.a,{item:!0,className:a.gridItem}),Object(C.jsx)(b.a,{item:!0,className:a.gridItem})]})})]}),Object(C.jsx)(P.a,{})]})},pt=a(346),Ot=Object(f.a)((function(e){return{cardTitle:Object(m.a)(Object(m.a)({},e.typography.cardTitle),{},{color:e.palette.common.red,display:"inline-block",marginRight:".5em"}),cardContent:Object(m.a)(Object(m.a)({},e.typography.cardTitle),{},{color:e.palette.common.darkGray,display:"inline-block"}),cardName:Object(m.a)({color:e.palette.common.red},e.typography.cardName),gridItem:{margin:".5em",minWidth:"200px"},input:{padding:"0 0 5px"},logColor:{"&:nth-of-type(odd)":{backgroundColor:e.palette.common.fadedGray}}}})),gt=function(e){var t=e.log,a=e.onDeleteLog,n=(e.onFixLog,Ot()),c=Object(r.useState)({open:!1,color:""}),s=Object(j.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(""),m=Object(j.a)(l,2),p=m[0],f=m[1],v=Object(r.useState)(t.regularHours),w=Object(j.a)(v,2),N=w[0],k=w[1],I=Object(r.useState)(t.overloadHours),S=Object(j.a)(I,2),T=S[0],D=S[1],A=Object(r.useState)(t.overTime),M=Object(j.a)(A,2),H=M[0],F=M[1],R=Object(r.useState)(""),L=Object(j.a)(R,2),B=L[0],z=L[1],U=Object(r.useState)(!1),W=Object(j.a)(U,2),_=W[0],q=W[1],G=Object(r.useState)(""),V=Object(j.a)(G,2),Y=V[0],J=V[1],$=Object(r.useState)(new Date(t.timeIn)),K=Object(j.a)($,2),Q=K[0],X=K[1],Z=Object(r.useState)(new Date(t.timeOut)),ee=Object(j.a)(Z,2),te=ee[0],ae=ee[1];function ne(){return(ne=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs/").concat(t._id));case 3:i({open:!0,color:"#A52439"}),f("Log deleted!"),window.setTimeout((function(){a(t._id)}),500),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),i({open:!0,color:"#A52439"}),f("Something went wrong! Please try again."),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ce(){return(ce=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs/").concat(t._id),{feedback:Y});case 3:i({open:!0,color:"#A52439"}),f("Feedback was sent!"),J(""),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),i({open:!0,color:"#A52439"}),f("Something went wrong! Please try again."),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function re(){return(re=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs/").concat(t._id),{status:B,timeIn:Q,timeOut:te,regularHours:N,overloadHours:T,overTime:H});case 3:i({open:!0,color:"#A52439"}),f("Issue was been fixed"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),i({open:!0,color:"#A52439"}),f("Something went wrong! Please try again."),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(C.jsx)("div",{className:n.logColor,children:Object(C.jsxs)(ve.a,{utils:fe.a,children:[Object(C.jsxs)(b.a,{className:n.gridItem,container:!0,justify:"space-around",children:[Object(C.jsx)(b.a,{item:!0,style:{paddingRight:"2em"},children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Date: "}),Object(C.jsx)(h.a,{className:n.cardContent,children:Object(E.a)(new Date(t.date),"MM/dd/yy")})]}),Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsxs)(h.a,{className:n.cardTitle,children:["Employee:"," "]}),Object(C.jsx)(h.a,{className:n.cardContent,children:"".concat(t.employee.firstName," ").concat(t.employee.lastName)})]}),Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Status: "}),Object(C.jsx)(He.a,{className:n.formControl,children:Object(C.jsx)(Ee.a,{inputProps:{className:n.input},renderValue:B.length>0?void 0:function(){return"".concat(t.status)},displayEmpty:!0,labelId:"status",id:"status",value:B,onChange:function(e){return z(e.target.value)},children:["Valid","Absent(E)","Absent(NE)","Overtime","Issue"].map((function(e){return Object(C.jsx)(Me.a,{value:e,children:e},e)}))})})]})]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Regular: "}),Object(C.jsx)(O.a,{value:N,onChange:function(e){k(e.target.value)},id:"regularHours",type:"number",inputProps:{min:"0.0",max:"24.0",step:".01",className:n.input},InputLabelProps:{shrink:!0}})]}),Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Time In: "}),Object(C.jsx)(pt.a,{inputProps:{className:n.input},value:Q,onChange:X})]}),Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Time Out:"}),Object(C.jsx)(pt.a,{inputProps:{className:n.input},value:te,onChange:ae})]})]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"FTE: "}),Object(C.jsx)(h.a,{className:n.cardContent,children:t.fullTimeEquivalent?t.fullTimeEquivalent+" hrs":"0 hrs"})]}),Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Overload:"}),Object(C.jsx)(O.a,{value:T,onChange:function(e){D(e.target.value)},id:"regularhours",type:"number",inputProps:{min:"0.0",max:"24.0",step:".01",className:n.input},InputLabelProps:{shrink:!0}})]}),Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Overtime:"}),Object(C.jsx)(O.a,{value:H,onChange:function(e){F(e.target.value)},id:"overtime",type:"number",inputProps:{min:"0.0",max:"24.0",step:".01",className:n.input},InputLabelProps:{shrink:!0}})]})]})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",children:[Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsx)(h.a,{className:n.cardTitle,children:"Remark: "}),Object(C.jsx)(h.a,{className:n.cardContent,children:t.remark})]}),Object(C.jsx)(b.a,{item:!0,className:n.gridItem,children:Object(C.jsx)(O.a,{label:"Write your feedback",placeholder:"Feedback",size:"small",InputProps:{endAdornment:Object(C.jsx)(Ne.a,{position:"end",style:{cursor:"pointer "},onClick:function(){return q(!0)},children:Object(C.jsx)(Ce.a,{color:"primary",style:{fontSize:30}})})}})}),Object(C.jsxs)(b.a,{item:!0,className:n.gridItem,children:[Object(C.jsx)(g.a,{color:"primary",variant:"contained",onClick:function(e){return re.apply(this,arguments)},children:"MARK AS FIXED"}),Object(C.jsx)(g.a,{onClick:function(){return ne.apply(this,arguments)},children:Object(C.jsx)(Ke.a,{color:"primary"})})]})]})})]}),Object(C.jsx)(P.a,{}),Object(C.jsxs)(se.a,{open:_,onClose:function(){return q(!1)},"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(oe.a,{id:"form-dialog-title",className:n.cardName,children:"Feedback"}),Object(C.jsxs)(ie.a,{children:[Object(C.jsx)(le.a,{children:"Write your feedback here. Maximum of one sentence only"}),Object(C.jsx)(O.a,{rows:5,multiline:!0,autoFocus:!0,margin:"dense",id:"message",label:"Enter your feedback",type:"message",value:Y,onChange:function(e){return J(e.target.value)},fullWidth:!0})]}),Object(C.jsxs)(de.a,{children:[Object(C.jsx)(g.a,{onClick:function(){return q(!1)},color:"primary",children:"Cancel"}),Object(C.jsx)(g.a,{onClick:function(){!function(){ce.apply(this,arguments)}(),q(!1)},color:"primary",children:"Send"})]})]}),Object(C.jsx)(x.a,{open:o.open,ContentProps:{style:{backgroundColor:o.color}},anchorOrigin:{vertical:"bottom",horizontal:"center"},message:p,autoHideDuration:4e3,onClose:function(){return i(!1)}})]})})},xt=Object(f.a)((function(e){return{gridItem:{margin:".5em"}}})),ft=function(e){var t=e.user,a=xt(),n=Object(r.useState)(new Date("2021-01-01")),c=Object(j.a)(n,2),s=c[0],o=c[1],i=Object(r.useState)(new Date),l=Object(j.a)(i,2),m=l[0],p=l[1],O=Object(r.useState)(!1),g=Object(j.a)(O,2),x=g[0],f=g[1],v=Object(r.useState)(""),w=Object(j.a)(v,2),N=w[0],k=w[1],I=Object(r.useState)(null),S=Object(j.a)(I,2),T=S[0],D=S[1],A=Object(r.useState)([]),M=Object(j.a)(A,2),H=M[0],E=M[1],F=Object(r.useCallback)(Object(u.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),k(null),e.next=5,y()({method:"GET",url:"".concat("https://tup-attendance-system-backend.herokuapp.com","/api/v1/logs?sort=-updatedAt&").concat(t.isAdmin?"":"employee=".concat(t._id),"&status=Issue&status=Overtime&status=Absent&date[gte]=").concat(new Date(s).toLocaleString().split(",")[0].replaceAll("/","-"),"&date[lte]=").concat(new Date(m).toLocaleString().split(",")[0].replaceAll("/","-"))});case 5:a=e.sent,D(a.data.data.logs),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),k(e.t0);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),[s,m,t._id,t.isAdmin]);Object(r.useEffect)((function(){F()}),[F]);var R,L=function(e){D((function(t){return t.filter((function(t){return t._id!==e}))}))};return T&&(R=Object(C.jsx)(ve.a,{utils:fe.a,children:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(b.a,{container:!0,justify:"center",style:{marginTop:"1em",marginBottom:"1em"},children:[Object(C.jsx)(b.a,{item:!0,className:a.gridItem,children:Object(C.jsx)(ye.a,{format:"MM/dd/yyyy",value:s,onChange:function(e){o(e)}})}),Object(C.jsx)(b.a,{item:!0,className:a.gridItem,children:Object(C.jsx)(h.a,{component:"span",variant:"h6",children:"--"})}),Object(C.jsx)(b.a,{item:!0,className:a.gridItem,children:Object(C.jsx)(ye.a,{format:"MM/dd/yyyy",value:m,onChange:function(e){p(e)}})})]}),Object(C.jsx)(P.a,{}),t.isAdmin&&H.length>0?H.map((function(e){return Object(C.jsx)(gt,{onDeleteLog:L,log:e},e._id)})):H.length>0?H.map((function(e){return Object(C.jsx)(ht,{log:e},e._id)})):null,Object(C.jsx)(b.a,{container:!0,justify:"center",children:Object(C.jsx)(b.a,{item:!0,style:{marginTop:"1em"},children:Object(C.jsx)(Te,{results:T,onSaveResults:E})})})]})})),N&&(R=Object(C.jsx)("p",{children:N})),x&&(R=Object(C.jsx)(b.a,{container:!0,justify:"center",children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(we.a,{className:a.circularPosition,size:"10rem",color:"primary"})})})),Object(C.jsx)(C.Fragment,{children:R})};function vt(e){var t=e.children,a=e.value,n=e.index,c=Object(he.a)(e,["children","value","index"]);return Object(C.jsx)("div",Object(m.a)(Object(m.a)({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),{},{children:a===n&&Object(C.jsx)(re.a,{p:0,children:Object(C.jsx)(s.a.Fragment,{children:t})})}))}var yt=Object(f.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,height:"59em"}}}));function wt(e){var t=yt(),a=s.a.useState(0),n=Object(j.a)(a,2),c=n[0],o=n[1],i=Object(r.useContext)(w.a).user;return Object(C.jsxs)(p.a,{className:t.root,children:[Object(C.jsx)(pe.a,{position:"static",color:"transparent",children:Object(C.jsxs)(Oe.a,{value:c,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",centered:!0,children:[Object(C.jsx)(ge.a,{label:"My Logs"}),i.isAdmin?Object(C.jsx)(ge.a,{label:"View Users"}):null,Object(C.jsx)(ge.a,{label:"Issues"})]})}),Object(C.jsx)(vt,{value:c,index:0,children:Object(C.jsx)(Ae,{createdLog:e.newLog})}),i.isAdmin?Object(C.jsx)(vt,{value:c,index:1,children:Object(C.jsx)(mt,{})}):Object(C.jsx)(vt,{value:c,index:1,children:Object(C.jsx)(ft,{user:i})}),i.isAdmin?Object(C.jsx)(vt,{value:c,index:2,children:Object(C.jsx)(ft,{user:i})}):null]})}var Nt=a(120),kt=Object(f.a)((function(e){return{root:{height:"100vh",width:"100%",paddingLeft:"30px",paddingRight:"30px",marginBottom:"30em"},gridContainer:{marginBottom:"2em"},circularPosition:{display:"block",marginLeft:"auto",marginRight:"auto",marginTop:"20em"}}})),Ct=function(){var e,t=kt(),a=Object(r.useState)(null),n=Object(j.a)(a,2),c=n[0],s=n[1],o=Object(r.useContext)(w.a).user,i=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:a=e.sent,s((function(e){return a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:a=e.sent,s((function(e){return a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:a=e.sent,s((function(e){return a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o&&(e=Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:t.root,children:[Object(C.jsxs)(b.a,{container:!0,className:t.gridContainer,spacing:2,children:[Object(C.jsx)(b.a,{item:!0,xs:12,lg:8,children:Object(C.jsx)(ce,{onAddLog:function(e){s((function(t){return e}))},user:o})}),Object(C.jsx)(b.a,{item:!0,xs:12,lg:4,children:Object(C.jsx)(be,{onAddAbsent:m,onAddSuspension:i,onAddHoliday:l,user:o})})]}),Object(C.jsx)(b.a,{container:!0,children:Object(C.jsx)(b.a,{item:!0,xs:12,lg:12,children:Object(C.jsx)(wt,{newLog:c})})})]})})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Nt.a,{}),e]})},It=a.p+"static/media/404.050dbcd5.png",St=Object(f.a)((function(e){return{item:{display:"block",marginLeft:"auto",marginRight:"auto",marginBottom:"2em"}}})),Tt=function(){var e=St(),t=Object(r.useContext)(w.a).user;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Nt.a,{}),Object(C.jsxs)(b.a,{container:!0,direction:"column",justify:"center",children:[Object(C.jsx)(b.a,{item:!0,className:e.item,children:Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:It,alt:"page-not-found"})})}),Object(C.jsx)(b.a,{item:!0,style:{marginBottom:"2em"},children:Object(C.jsx)(h.a,{variant:"h4",align:"center",children:"Oops! Page not found"})}),Object(C.jsx)(b.a,{item:!0,className:e.item,children:t?Object(C.jsx)(g.a,{variant:"contained",color:"primary",component:o.b,to:"/dashboard",children:"Dashboard"}):Object(C.jsx)(g.a,{variant:"contained",color:"primary",component:o.b,to:"/",children:"RETURN TO LOGIN"})})]})]})};function Dt(){return Object(C.jsx)("div",{className:"loading",children:Object(C.jsx)("span",{className:"pulse"})})}function At(e){var t=Object(r.useContext)(w.a),a=t.user,n=t.isLoading,c=e.component,s=Object(he.a)(e,["component"]);return n?Object(C.jsx)(Dt,{}):a?Object(C.jsx)(i.b,Object(m.a)(Object(m.a)({},s),{},{render:function(e){return Object(C.jsx)(c,Object(m.a)({},e))}})):Object(C.jsx)(i.a,{to:"/"})}var Mt=a(333),Pt=a(334),Ht=a(185),Et="#A52439",Ft="#3F3F3F",Rt=Object(Ht.a)({palette:{common:{red:Et,gray:Ft,blue:"#2196F3",fadedBlue:"#BBDEFB",darkGray:"#434343",fadedGray:"#F4F4F4"},primary:{main:Et},secondary:{main:Ft}},typography:{userCard:{fontFamily:"Roboto",fontSize:"1.5em",fontWeight:"500"},title:{fontFamily:"Roboto",fontSize:"1em",fontWeight:"500"},cardTitle:{fontFamily:"Roboto",fontWeight:"bold",fontSize:"1.15em"},cardName:{fontFamily:"Roboto",fontSize:"1.25em",fontWeight:"bold"},helperText:{fontFamily:"Roboto",fontSize:"0.85em",fontWeight:"bold"}},overrides:{MuiSnackbarContent:{root:{borderRadius:"30px"},message:{margin:"auto"}},MuiTableCell:{head:{fontWeight:"500",color:"white"}},MuiTableRow:{head:{backgroundColor:Et}},MuiTableSortLabel:{root:{"&.MuiTableSortLabel-active":{color:"white"}}}}}),Lt=a(338),Bt=a(121),zt=Object(f.a)((function(e){var t,a;return{footer:{backgroundColor:e.palette.common.gray,width:"100%",zIndex:1302,position:"relative"},footerContainer:(t={width:"25em"},Object(K.a)(t,e.breakpoints.down("md"),{width:"20em"}),Object(K.a)(t,e.breakpoints.down("xs"),{width:"15em"}),t),footerGridContainer:{position:"absolute"},gridItem:{margin:".5em"},footerLogo:{height:"3em"},footerTitle:{fontFamily:"Roboto",fontWeight:"bold",color:"white",fontSize:".7em",textAlign:"center"},footerContact:{fontFamily:"Roboto",fontWeight:"bold",color:"white",fontSize:".7em",textAlign:"center",marginBottom:"0"},footerParagraph:{lineHeight:"1.5",fontFamily:"Roboto",color:"white",fontSize:".7em",textAlign:"center",margin:"0"},footerCopyright:(a={fontFamily:"Roboto",color:"white",fontSize:"1em"},Object(K.a)(a,e.breakpoints.down("md"),{fontSize:".9em"}),Object(K.a)(a,e.breakpoints.down("xs"),{fontSize:".8em"}),a)}})),Ut=function(){var e=zt();return Object(C.jsx)("footer",{className:e.footer,children:Object(C.jsxs)(Lt.a,{mdDown:!0,children:[Object(C.jsxs)(b.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",children:[Object(C.jsx)(b.a,{item:!0,className:e.gridItem,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",alignItems:"center",children:[Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)("img",{alt:"school-logo",className:e.footerLogo,src:Bt.a})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)("p",{className:e.footerTitle,children:"Technological University of the Philippines"})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)("p",{className:e.footerParagraph,children:["A premier state university with recognized excellence in engineering and technology",Object(C.jsx)("br",{})," education at par with leading universities in the ASEAN region."]})})]})}),Object(C.jsx)(b.a,{item:!0,className:e.gridItem,children:Object(C.jsxs)(b.a,{container:!0,direction:"column",alignItems:"center",children:[Object(C.jsxs)(b.a,{item:!0,children:[Object(C.jsx)("p",{className:e.footerContact,children:"CONTACT INFORMATION"}),Object(C.jsx)("p",{className:e.footerParagraph,children:"For more details, please contact"})]}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)("p",{className:e.footerParagraph,children:[Object(C.jsx)("br",{})," Prof. Emma B. Taar Director, Office of Admissions",Object(C.jsx)("br",{})," Ground Floor, Arts and Sciences Bldg., Ayala Blvd., Ermita, Manila 1000, Philippines",Object(C.jsx)("br",{})," Contact Numbers: +63 (2) 5301.3042 / 5301.3001 local 603"]})})]})}),Object(C.jsx)(b.a,{item:!0,className:e.gridItem,children:Object(C.jsxs)(b.a,{container:!0,alignItems:"center",direction:"column",children:[Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)("p",{className:e.footerTitle,children:"QUALITY POLICY"})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsxs)("p",{className:e.footerParagraph,children:["TUP shall commit to provide quality higher and advanced education; conduct relevant",Object(C.jsx)("br",{})," research and extension projects; continually improve its value to customers through",Object(C.jsx)("br",{})," enhancement of personnel competence and effective quality management system",Object(C.jsx)("br",{})," compliant to statutory and regulatory requirements."]})})]})})]}),Object(C.jsx)(P.a,{}),Object(C.jsx)(b.a,{container:!0,justify:"center",children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(b.a,{container:!0,direction:"column",children:Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)("p",{className:e.footerCopyright,children:"\xa9 2021 Technological University of the Philippines - Manila."})})})})})]})})};var Wt=function(){var e=function(){var e=Object(r.useState)(null),t=Object(j.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(j.a)(c,2),o=s[0],i=s[1];return Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/v1/users/isLoggedIn").then((function(e){n(e.data.currentUser),i(!1)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{user:a,setUser:n,isLoading:o}}(),t=e.user,a=e.setUser,n=e.isLoading;return Object(C.jsx)(Mt.a,{theme:Rt,children:Object(C.jsxs)(Pt.a,{children:[Object(C.jsx)(o.a,{children:Object(C.jsx)(w.a.Provider,{value:{user:t,setUser:a,isLoading:n},children:Object(C.jsxs)(i.d,{children:[Object(C.jsx)(i.b,{exact:!0,path:"/",component:S}),Object(C.jsx)(At,{path:"/dashboard",component:Ct}),Object(C.jsx)(i.b,{component:Tt})]})})}),Object(C.jsx)(Ut,{})]})})};c.a.render(Object(C.jsx)(Wt,{}),document.getElementById("root"))},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),c=Object(n.createContext)(null)}},[[256,1,2]]]);
//# sourceMappingURL=main.c99a12d3.chunk.js.map